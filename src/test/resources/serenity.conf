# Configuración del Navegador
webdriver {
  capabilities {
    browserName = "chrome"
    "goog:chromeOptions" {
      # Mantén estos argumentos para estabilidad en Linux (GitHub Actions)
      args = ["test-type", "no-sandbox", "ignore-certificate-errors", "--window-size=390,844", "incognito", "disable-gpu", "disable-infobars", "disable-dev-shm-usage", "disable-extensions", "headless"]
    }
  }
}

headless.mode = true

# Entornos (Aquí definimos la URL base)
environments {
  default {
    webdriver.base.url = "https://credgruppro.web.app/"
  }
}

serenity.fail.on.pending.steps = true

# Configuraciones de Chrome (Para evitar errores comunes)
chrome.switches = """--window-size=550,1020; --test-type; --no-sandbox; --ignore-certificate-errors;
                   --disable-popup-blocking; --disable-default-apps; --disable-extensions-file-access-check;
                   --incognito; --disable-infobars; --disable-gpu"""

serenity {
    # Cambia esto para que tome la foto AL FINAL de la acción
    take.screenshots = AFTER_EACH_STEP
}

